# daramKim's document

## chapter4 - 클래스와 인터페이스

* item15
  * 기본적으로 private를 사용하자.
  * public api 에 제공할 필요가 있으면 public or protected
  * protected 는 최소한으로 제공함을 기본 원칙으로 한다.
  * 일단 위처럼 작성하고 필요시 protected로 변경한다. 변경이 많이 필요하다면 컴포넌트를 더 세분화할 고려해보아야함.
* item16
  * private member field 사용
  * public getter, setter 사용
* item17
  * 불변 객체
  * Read 시에 장점(캐시 기능 사용가능)
  * 동시성 문제 전혀없음.(Thread safety)
  * 단, 변경시 단점 존재함. 무조건 O(n)
* 불변 클래스 만드는 5가지 규칙
  1. 객체 상태 변경 메서드를 제공하지 않는다.
  2. 클래스를 확장할 수 없도록 한다.
  3. 모든 필드를 final로 선언한다.
  4. 모든 필드를 private으로 선언한다.
  5. 자신 외에 내부 가변 컴포넌트에 접근할 수 없도록 한다.
* item18
  * 상속보다는 컴포지션을 사용한다.
  * 부모 클래스의 수정이 필요할시 상속이었으면 하위클래스에 영향을 줌.
* item19
  * 상속 불가 처리
  * final class 처리
  * private contructor 만 제공 + static factory 제공
* item20
  * 추상클래스 1개
  * 인터페이스 여러개
  * java8 부터 default 메서드 지원하니까 추상클래스의 입지가 거의 없어짐.
* item21
  * default 는 런타임 오류를 일으킬 수 있으니 세심한 주의를 기울여라
* item22
  * 상수는 관련된 클래스에 추가해야한다. ( or 열거타입)
  * 인터페이스에 상수 공개를 하지말라.
* item23
  * 태그 달린 클래스? -> 클래스 계층구조로 리팩토링해라.
* item24
  * 메서드 밖에서도 사용해야 하거나 메서드 안에 정의하기엔 너무 길다면 멤버 클래스로 정의
* non static 멤버 클래스 구현시
  * 내부 인스턴스 객체 생성시 부모 인스턴스를 무조건 생성 + 참조 하는 포인터의 정보를 갖고 있어야됌 == 성능저하, 문법적으로 길다. 귀찮음
* item25
  * 별 필요 없는 내용.. 당연한거